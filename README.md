# NixOS for Jetson Xavier NX

This repository contains the NixOS configuration used to deploy a Jetson Xavier NX for Oxford Nanopore sequencing.

## 1. Building a NixOS ISO

To install NixOS on your Jetson Xavier NX, follow [anduril/jetpack-nixos](https://github.com/anduril/jetpack-nixos) to create a bootable ISO. Then use it to install NixOS onto a Jetson.

## 2. Using this repository as a NixOS configuration

After installing NixOS, clone this repository onto the Jetson device. Replace [hardware-configuration.nix](hosts/jetson/hardware-configuration.nix) with the file generated by the NixOS installer.
Modify `hardware.nvidia-jetpack.som` and `hardware.nvidia-jetpack.carrierBoard` according to the board and Jetson module NixOS is being deployed to.
Study the code and apply any other suitable changes to it.

## 3. Deployment

To deploy the desired run the following command from within the cloned directory:
```bash
sudo nixos-rebuild switch --flake .#jetson
```
